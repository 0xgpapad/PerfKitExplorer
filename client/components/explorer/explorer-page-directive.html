<explorer-header layout="column"></explorer-header>

<div class="pk-page-body" ng-controller="DashboardCtrl as dashboardCtrl"
      layout="row" flex>

  <img id="pk-chart-image-buffer">

  <sidebar-tabs class="pk-sidebar-tabs" layout="column"></sidebar-tabs>

  <div class="pk-page-leftwell" id="pk-page-leftwell" layout="column"
        ng-show="dashboardCtrl.tabSvc.selectedTab">

    <sidebar ng-show="explorerCtrl.sidebarTabService.selectedTab" layout="column" flex></sidebar>

  </div>

  <div resize="right" resize-element-id="pk-page-leftwell"
        ng-show="explorerCtrl.sidebarTabService.selectedTab">&nbsp;</div>

  <div layout="column" flex>

    <explorer-toolbar></explorer-toolbar>

    <div class="pk-page-content pk-background" layout="column" flex
          ng-click="dashboardSvc.onDashboardClick($event)"
          ng-switch="isWidgetMaximized()">
      <div ng-switch-when="true" layout="column" flex class="pk-dashboard-widget-focus-container">
        <dashboard-widget-focus
            ng-model="explorerStateSvc.widgets.selected"
            layout="column" flex></dashboard-widget-focus>
      </div>
      <div ng-switch-default>
        <dashboard
            ng-model="dashboardCtrl.dashboard.current.model"></dashboard>
      </div>
    </div>

  </div>

</div>

<div
    resize="top" resize-element-id="pk-page-footer"
    ng-show="explorerCtrl.explorer.model.code_editor.isOpen">&nbsp;</div>

<div
    class="pk-page-footer" id="pk-page-footer" layout="column"
    ng-show="explorerCtrl.explorer.model.code_editor.isOpen">

  <widget-editor class="pk-footer-open" layout="column" flex></widget-editor>

</div>
